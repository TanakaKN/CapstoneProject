{% extends "base.html" %}

{% block content %}
<h2>{{ plan.name }}</h2>

<p>Target Amount: {{ plan.target_amount }}</p>
<p>Total Saved: {{ plan.total_saved }}</p>

<h3>Add Contribution</h3>
<form method="post">
  {% csrf_token %}
  <input type="number" step="0.01" name="amount" required>
  <button type="submit">Add</button>
</form>

<h3>Contributions</h3>
<ul>
  {% for c in plan.contributions.all %}
    <li>{{ c.amount }} â€” {{ c.created_at }}</li>
  {% endfor %}
</ul>

<form method="post" action="/api/saving-plans/{{ plan.id }}/withdraw/">
  {% csrf_token %}
  <button type="submit">Request Withdrawal</button>
</form>
{% endblock %}
